<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluación de Máquina por Golpe Estructural</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0 15px;
            line-height: 1.6;
        }
        .header-table {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .header-table img {
            max-width: 30%;
            height: auto;
        }
        .header-table div {
            text-align: center;
            flex: 1;
            padding: 0 5px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
            vertical-align: top;
        }
        th {
            background-color: #f2f2f2;
        }
        select, textarea, input[type="text"] {
            width: 100%;
            padding: 5px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        textarea {
            resize: none;
            overflow: hidden;
            min-height: 50px;
            transition: height 0.2s;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            margin-top: 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        input[type="file"] {
            display: block;
            margin-top: 10px;
            font-size: 12px;
        }
        .img-preview {
            margin-top: 10px;
            max-width: 40%;
            height: auto;
            display: none;
        }
        @media screen and (max-width: 768px) {
            .header-table {
                flex-direction: column;
                text-align: center;
            }
            .header-table img {
                max-width: 50%;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>

    <!-- Encabezado con logotipos y títulos -->
    <div class="header-table">
        <img src="https://i.postimg.cc/x8D3wZ33/Cerrejon.png" alt="Logo de Cerrejón" />
        <div>
            <img src="https://i.postimg.cc/7h3nwNB8/Safe-work-LOGO.png" alt="SAFE WORK Glencore" />
        </div>
        <img src="https://i.postimg.cc/zDKjCJqt/Truck-LOGO.jpg" alt="Camion 793D" />
    </div>

    <!-- Título de la Evaluación -->
    <h1>Evaluación de Máquina por Golpe Estructural</h1>
    <p>Formulario para evaluar diferentes aspectos de la máquina en función de su estructura y estado operativo.</p>

    <!-- Detalles de la Evaluación -->
    <h2>Detalles de la Evaluación</h2>
    <table>
        <tr>
            <td><label for="modelo">Modelo:</label></td>
            <td><input type="text" id="modelo" name="modelo" placeholder="Ingrese el modelo"></td>
        </tr>
        <tr>
            <td><label for="equipo">Equipo:</label></td>
            <td><input type="text" id="equipo" name="equipo" placeholder="Ingrese el equipo"></td>
        </tr>
        <tr>
            <td><label for="falla">Falla:</label></td>
            <td><input type="text" id="falla" name="falla" placeholder="Describa la falla"></td>
        </tr>
        <tr>
            <td><label for="nombre-ejecutor">Nombre del ejecutor:</label></td>
            <td><input type="text" id="nombre-ejecutor" name="nombre-ejecutor" placeholder="Ingrese el nombre del ejecutor"></td>
        </tr>
    </table>

    <!-- Sección para evaluar la transmisión -->
    <h3>Transmisión (por golpe)</h3>
    <table>
        <thead>
            <tr>
                <th>Aspecto</th>
                <th>Estado</th>
                <th>Comentarios</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Operando en el equipo, determinar si el golpe se produce al cambiar y en que cambios.</td>
                <td>
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
                <td>
                    <textarea placeholder="Añadir comentarios..."></textarea>
                    <input type="file" accept="image/*" onchange="previewImage(event, this)">
                    <img class="img-preview">
                </td>
            </tr>
        </tbody>
    </table>

   <!-- Sección para evaluar las espigas de las suspensiones frontales -->
    <h3>Espigas de las suspensiones frontales</h3>
    <table>
        <thead>
            <tr>
                <th>Aspecto</th>
                <th>Estado</th>
                <th>Comentarios</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Fracturas, rótulas fracturadas, estado de los cilindros (rígidos, permiten calibración, pegados)</td>
                <td>
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
                <td>
                    <textarea placeholder="Añadir comentarios..."></textarea>
                    <input type="file" accept="image/*" onchange="previewImage(event, this)">
                    <img class="img-preview">
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Sección para evaluar el brazo central de la dirección -->
    <h3>Brazo central de la dirección</h3>
    <table>
        <thead>
            <tr>
                <th>Aspecto</th>
                <th>Estado</th>
                <th>Comentarios</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Juego en alojamientos, faltan tornillos o estan flojos, no tiene chaveta o si el pin esta afuera</td>
                <td>
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
                <td>
                    <textarea placeholder="Añadir comentarios..."></textarea>
                    <input type="file" accept="image/*" onchange="previewImage(event, this)">
                    <img class="img-preview">
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Sección para evaluar las barras de dirección -->
    <h3>Barras de dirección</h3>
    <table>
        <thead>
            <tr>
                <th>Aspecto</th>
                <th>Estado</th>
                <th>Comentarios</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Estado de ball stud, si están torcidas, si brincan al cruzar.</td>
                <td>
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
                <td>
                    <textarea placeholder="Añadir comentarios..."></textarea>
                    <input type="file" accept="image/*" onchange="previewImage(event, this)">
                    <img class="img-preview">
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Sección para evaluar las suspensiones traseras -->
    <h3>Estado de las suspensiones traseras</h3>
    <table>
        <thead>
            <tr>
                <th>Aspecto</th>
                <th>Estado</th>
                <th>Comentarios</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Rótulas fracturadas, Alturas erradas, presiones fuera de rango.</td>
                <td>
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
                <td>
                    <textarea placeholder="Añadir comentarios..."></textarea>
                    <input type="file" accept="image/*" onchange="previewImage(event, this)">
                    <img class="img-preview">
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Sección para evaluar el asentamiento de la tolva -->
    <h3>Asentamiento de la tolva</h3>
    <table>
        <thead>
            <tr>
                <th>Aspecto</th>
                <th>Estado</th>
                <th>Comentarios</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Asentamiento irregular en basculantes, en chasis, Juego del Pin del Basculante, Grietas en la caja de la tolva, etc.</td>
                <td>
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
                <td>
                    <textarea placeholder="Añadir comentarios..."></textarea>
                    <input type="file" accept="image/*" onchange="previewImage(event, this)">
                    <img class="img-preview">
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Sección para evaluar el Nose Cone -->
    <h3>Nose Cone</h3>
    <table>
        <thead>
            <tr>
                <th>Aspecto</th>
                <th>Estado</th>
                <th>Comentarios</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Definir juego radial, juego axial, tornillos partidos, estado rotula, cuanta con Grasa, etc.</td>
                <td>
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
                <td>
                    <textarea placeholder="Añadir comentarios..."></textarea>
                    <input type="file" accept="image/*" onchange="previewImage(event, this)">
                    <img class="img-preview">
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Sección para evaluar juegos en cilindros de levante -->
    <h3>Juegos en cilindros de levante</h3>
    <table>
        <thead>
            <tr>
                <th>Aspecto</th>
                <th>Estado</th>
                <th>Comentarios</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Juego al Subir y Bajar, Rotulas fracturadas, si cuanta con los espaciadores, etc.</td>
                <td>
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
                <td>
                    <textarea placeholder="Añadir comentarios..."></textarea>
                    <input type="file" accept="image/*" onchange="previewImage(event, this)">
                    <img class="img-preview">
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Sección para evaluar golpes en la descarga del estéril -->
    <h3>Golpea en la descarga del estéril</h3>
    <table>
        <thead>
            <tr>
                <th>Aspecto</th>
                <th>Estado</th>
                <th>Comentarios</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Golpes observados en la descarga del estéril y en la bajada de la tolva.</td>
                <td>
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
                <td>
                    <textarea placeholder="Añadir comentarios..."></textarea>
                    <input type="file" accept="image/*" onchange="previewImage(event, this)">
                    <img class="img-preview">
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Sección para evaluar el estado de las bases de caucho -->
    <h3>Estado de las bases de caucho de la cabina y de las bases del motor Diesel</h3>
    <table>
        <thead>
            <tr>
                <th>Aspecto</th>
                <th>Estado</th>
                <th>Comentarios</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Revisión del estado de las bases de caucho, estado de los tornillos.</td>
                <td>
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
                <td>
                    <textarea placeholder="Añadir comentarios..."></textarea>
                    <input type="file" accept="image/*" onchange="previewImage(event, this)">
                    <img class="img-preview">
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Sección para evaluar las barandas de la cabina -->
    <h3>Barandas de la cabina</h3>
    <table>
        <thead>
            <tr>
                <th>Aspecto</th>
                <th>Estado</th>
                <th>Comentarios</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Revisión de las barandas de la cabina y plataforma, asegurese que los tornillos de la base de la plataforma esta apretados.</td>
                <td>
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
                <td>
                    <textarea placeholder="Añadir comentarios..."></textarea>
                    <input type="file" accept="image/*" onchange="previewImage(event, this)">
                    <img class="img-preview">
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Sección para evaluar el estado de la silla -->
    <h3>Estado de la silla</h3>
    <table>
        <thead>
            <tr>
                <th>Aspecto</th>
                <th>Estado</th>
                <th>Comentarios</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Evaluación del estado de la silla, Cojineria, Mecanismos de subida y amortiguacion.</td>
                <td>
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
                <td>
                    <textarea placeholder="Añadir comentarios..."></textarea>
                    <input type="file" accept="image/*" onchange="previewImage(event, this)">
                    <img class="img-preview">
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Sección para evaluar el estado de la cabina -->
    <h3>Estado de la cabina</h3>
    <table>
        <thead>
            <tr>
                <th>Aspecto</th>
                <th>Estado</th>
                <th>Comentarios</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Evaluación del estado de la cabina, incluye ajuste de dispositivos, estado cauchos de puerta, posibles entradas de ruido y polvo a la cabina</td>
                <td>
                    <select>
                        <option value="ok">OK</option>
                        <option value="not-ok">NOT OK</option>
                        <option value="na">N/A</option>
                    </select>
                </td>
                <td>
                    <textarea placeholder="Añadir comentarios..."></textarea>
                    <input type="file" accept="image/*" onchange="previewImage(event, this)">
                    <img class="img-preview">
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Botón para generar PDF -->
    <h4>Compartir entrega de turno</h4>
    <button onclick="window.print()">Compartir</button>
    <button onclick="generatePDF()">Generar PDF</button>

    <!-- Script para autoajustar el tamaño del textarea -->
    <script>
        document.querySelectorAll('textarea').forEach(textarea => {
            textarea.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = (this.scrollHeight) + 'px';
            });
        });
    </script>

    <!-- Script para previsualizar las imágenes cargadas -->
    <script>
        function previewImage(event, input) {
            const preview = input.nextElementSibling; // Selecciona la imagen siguiente al input file
            const reader = new FileReader();
            
            reader.onload = function(){
                preview.src = reader.result; // Establece la fuente de la imagen como el resultado de la lectura
                preview.style.display = 'block'; // Muestra la imagen
            }
            
            if(input.files && input.files[0]){
                reader.readAsDataURL(input.files[0]); // Lee la imagen cargada
            }
        }
    </script>

    <!-- Script para generar el PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script>
        function generatePDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            doc.html(document.body, {
                callback: function (doc) {
                    doc.save('evaluacion_maquina_golpe_estructural.pdf');
                },
                x: 10,
                y: 10,
                width: 190,
                windowWidth: 650
            });
        }
    </script>

</body>
</html>
